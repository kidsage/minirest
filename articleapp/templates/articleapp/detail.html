{% extends 'base.html' %}
{% load django_bootstrap5 %}

{% block content %}

    <div style="text-align: center; max-width: 700px; margin: 4rem auto;">
        <div>
            <h1>
                {{ target_article.title }}
            </h1>
            <h5>
                작성자 : {{ target_article.writer.profile.nickname }}
            </h5>

            <div>
                <img style="width: 100%; border-radius: 1rem; margin: 2rem 0;" 
                    src="{{ target_article.image.url }}" alt="">

                <div class="text-start">
                    {{ target_article.content | safe }}
                </div>

                {% if target_article.writer == user %}
                <div>
                    <a href="{% url 'articleapp:update' pk=target_article.pk %}" class="btn btn-dark rounded-pill col-2" style="float: right;">
                        수정
                    </a>
                    <a href="{% url 'articleapp:delete' pk=target_article.pk %}" class="btn btn-danger rounded-pill col-2" style="float: right;">
                        삭제
                    </a>
                </div>
                {% endif %}
            </div>
            <br><br>
            <div class="text-start" style="height: 2rem;">
                <a href="{% url 'articleapp:like' pk=target_article.pk %}">
                    <i style="vertical-align: middle; font-size: 1.2rem; color: red;" class="material-icons">
                        favorite
                    </i>
                </a>
                <span style="text-align: left; font-size: 1.2rem;">
                    {{ target_article.liked_user.first }} 님 포함 {{ target_article.liked_user.count }}명이 이 게시물을 좋아합니다.
                </span>
                <h5>
                    
                </h5>
            </div>

            {% for comment in target_article.comment.all %}
                {% include 'commentapp/detail.html' with comment=comment %}
            {% endfor %}

            {% include 'commentapp/create.html' with article=target_article %}

        </div>
    </div>


{% endblock %}